<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BOOOMERANGS: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è + –ü—Ä–µ–≤—å—é</title>
  <style>
    body {
      font-family: sans-serif;
      background: #111;
      color: white;
      text-align: center;
      padding: 2rem;
      max-width: 800px;
      margin: 0 auto;
    }
    header {
      font-size: 2.5rem;
      margin-bottom: 1.5rem;
      background: linear-gradient(45deg, #ff4b2b, #ff416c);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      font-weight: bold;
    }
    .subtitle {
      opacity: 0.8;
      margin-bottom: 20px;
    }
    img {
      max-width: 100%;
      border-radius: 10px;
      box-shadow: 0 0 15px rgba(255, 75, 43, 0.3);
      margin-top: 1.5rem;
    }
    button {
      padding: 12px 25px;
      border: none;
      background: linear-gradient(45deg, #ff4b2b, #ff416c);
      color: white;
      font-size: 1rem;
      cursor: pointer;
      border-radius: 8px;
      font-weight: bold;
      margin: 10px 5px;
    }
    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(255, 75, 43, 0.4);
      transition: all 0.3s ease;
    }
    .input-area {
      margin: 20px 0;
    }
    textarea {
      width: 100%;
      padding: 12px;
      background: #222;
      border: 1px solid #444;
      color: white;
      border-radius: 8px;
      min-height: 80px;
      font-family: inherit;
      margin-bottom: 10px;
    }
    .loading {
      display: none;
      margin: 20px auto;
    }
    .spinner {
      width: 40px;
      height: 40px;
      border: 3px solid rgba(255, 75, 43, 0.2);
      border-top-color: #ff4b2b;
      border-radius: 50%;
      animation: spin 1s infinite linear;
      margin: 0 auto;
    }
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    .svg-container {
      margin-top: 20px;
      padding: 15px;
      background-color: #222;
      border-radius: 10px;
      display: none;
    }
    footer {
      margin-top: 40px;
      font-size: 0.8rem;
      opacity: 0.7;
    }
  </style>
</head>
<body>
  <header>üöÄ BOOOMERANGS</header>
  <p class="subtitle">–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ SVG –±–µ–∑ API –∫–ª—é—á–µ–π</p>

  <div class="input-area">
    <textarea id="prompt" placeholder="–û–ø–∏—à–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ —Ö–æ—Ç–∏—Ç–µ —Å–æ–∑–¥–∞—Ç—å (–Ω–∞–ø—Ä–∏–º–µ—Ä: –∑–∞–∫–∞—Ç –Ω–∞–¥ –≥–æ—Ä–∞–º–∏)"></textarea>
  </div>

  <button onclick="generateImage()">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</button>
  
  <div class="loading" id="loading">
    <div class="spinner"></div>
    <p>–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è...</p>
  </div>

  <div>
    <img id="preview" alt="–ü—Ä–µ–≤—å—é –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å" style="display:none;">
  </div>
  
  <div id="action-buttons" style="display:none;">
    <button onclick="convertToSVG()">–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ SVG</button>
    <button onclick="downloadImage()">–°–∫–∞—á–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</button>
  </div>
  
  <div class="svg-container" id="svg-container"></div>

  <footer>
    &copy; 2024 BOOOMERANGS - –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Å–µ—Ä–≤–∏—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
  </footer>

  <script>
    // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
    let currentImageUrl = '';
    let currentSvgData = '';
    
    // –≠–ª–µ–º–µ–Ω—Ç—ã —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    const previewImage = document.getElementById('preview');
    const promptInput = document.getElementById('prompt');
    const actionButtons = document.getElementById('action-buttons');
    const svgContainer = document.getElementById('svg-container');
    const loadingIndicator = document.getElementById('loading');
    
    // –§—É–Ω–∫—Ü–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
    async function generateImage() {
      const prompt = promptInput.value.trim() || 'landscape';
      const encodedPrompt = encodeURIComponent(prompt);
      
      // –°–∫—Ä—ã–≤–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
      previewImage.style.display = 'none';
      actionButtons.style.display = 'none';
      svgContainer.style.display = 'none';
      
      // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
      loadingIndicator.style.display = 'block';
      
      try {
        // –î–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã –Ω–∞–ø—Ä—è–º—É—é –∏—Å–ø–æ–ª—å–∑—É–µ–º Unsplash API
        const width = 800;
        const height = 600;
        currentImageUrl = `https://source.unsplash.com/random/${width}x${height}/?${encodedPrompt}`;
        
        // –ó–∞–≥—Ä—É–∂–∞–µ–º –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
        previewImage.onload = function() {
          previewImage.style.display = 'block';
          actionButtons.style.display = 'block';
          loadingIndicator.style.display = 'none';
        };
        
        previewImage.onerror = function() {
          alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è');
          loadingIndicator.style.display = 'none';
        };
        
        // –î–æ–±–∞–≤–ª—è–µ–º —Å–ª—É—á–∞–π–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
        previewImage.src = `${currentImageUrl}&_=${Date.now()}`;
        
      } catch (error) {
        alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è');
        loadingIndicator.style.display = 'none';
      }
    }
    
    // –§—É–Ω–∫—Ü–∏—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –≤ SVG
    function convertToSVG() {
      if (!currentImageUrl) return;
      
      // –°–æ–∑–¥–∞–µ–º SVG —Å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –∏ –ª–æ–≥–æ—Ç–∏–ø–æ–º
      const svgData = `
        <svg xmlns="http://www.w3.org/2000/svg" width="800" height="600">
          <defs>
            <linearGradient id="grad" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" style="stop-color:#ff4b2b;stop-opacity:1" />
              <stop offset="100%" style="stop-color:#ff416c;stop-opacity:1" />
            </linearGradient>
            <filter id="posterize">
              <feComponentTransfer>
                <feFuncR type="discrete" tableValues="0 0.25 0.5 0.75 1" />
                <feFuncG type="discrete" tableValues="0 0.25 0.5 0.75 1" />
                <feFuncB type="discrete" tableValues="0 0.25 0.5 0.75 1" />
              </feComponentTransfer>
            </filter>
          </defs>
          <rect width="800" height="600" fill="url(#grad)" opacity="0.2" />
          <image href="${currentImageUrl}" width="800" height="600" filter="url(#posterize)" />
          <rect x="0" y="550" width="800" height="50" fill="rgba(0,0,0,0.7)" />
          <text x="400" y="585" font-family="Arial" font-size="24" text-anchor="middle" fill="#ff4b2b" font-weight="bold">
            BOOOMERANGS
          </text>
        </svg>
      `;
      
      // –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ SVG
      currentSvgData = svgData;
      
      // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º SVG
      svgContainer.innerHTML = svgData;
      svgContainer.style.display = 'block';
      
      // –î–æ–±–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è SVG
      const downloadButton = document.createElement('button');
      downloadButton.textContent = '–°–∫–∞—á–∞—Ç—å SVG';
      downloadButton.onclick = downloadSVG;
      svgContainer.appendChild(downloadButton);
    }
    
    // –§—É–Ω–∫—Ü–∏—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
    function downloadImage() {
      if (!currentImageUrl) return;
      
      // –°–æ–∑–¥–∞–µ–º —Å—Å—ã–ª–∫—É –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è
      const link = document.createElement('a');
      link.href = currentImageUrl;
      link.download = 'booomerangs-image.jpg';
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
    }
    
    // –§—É–Ω–∫—Ü–∏—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è SVG
    function downloadSVG() {
      if (!currentSvgData) return;
      
      // –°–æ–∑–¥–∞–µ–º Blob –∏–∑ SVG –¥–∞–Ω–Ω—ã—Ö
      const blob = new Blob([currentSvgData], { type: 'image/svg+xml' });
      const url = URL.createObjectURL(blob);
      
      // –°–æ–∑–¥–∞–µ–º —Å—Å—ã–ª–∫—É –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è
      const link = document.createElement('a');
      link.href = url;
      link.download = 'booomerangs-image.svg';
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
      URL.revokeObjectURL(url);
    }
  </script>
</body>
</html>